Load dnlib via reflection so we can use it
Load malware as moduleDef with dnlib
Load malware via reflection so we can invoke functions

Find string decryption method
Create some global variable to collect all methods we will be removing after processing

Find all call references to our string decryption method
Process these locations to find arguments and decrypt string using invoking string decryption routines on reflectively loaded malware (processing instructions)
Patch location with decrypted string
Remove instructions related to string decryption

Peroformming function inlining of dummy methods containing only ldstr and ret
Find all those methods location from where they are called
Replace those location with the string value - function inlining


Remove all methods that are not needed anymore


